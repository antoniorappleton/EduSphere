<!DOCTYPE html>
<html class="light" lang="pt">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>EduSphere — Professor Dashboard</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&amp;family=Inter:wght@300;400;500;600&amp;display=swap"
    rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&amp;display=swap"
    rel="stylesheet" />
  <link
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
    rel="stylesheet" />
  <script id="tailwind-config">
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#b91c1c",
            "background-light": "#f9fafb",
            "background-dark": "#111827",
          },
          fontFamily: {
            "sans": ["Inter", "sans-serif"],
            "display": ["Poppins", "sans-serif"],
            "poppins": ["Poppins", "sans-serif"],
            "lexend": ["Lexend", "sans-serif"]
          },
        },
      },
    }
  </script>
  <style type="text/tailwindcss">
    @layer components {
      .rel-kpi-card {
        @apply bg-white/70 dark:bg-gray-800/70 backdrop-blur-[8px] border border-white/40 dark:border-gray-700/40 rounded-2xl p-4 shadow-sm transition-all;
      }
      .ios-tab-shadow {
        box-shadow: 0 -2px 10px rgba(0,0,0,0.03);
      }
      .dash-aluno-card {
        @apply bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 p-4 relative;
      }
      .expl-nav-btn--active {
        @apply text-primary;
      }
    }
    body {
        font-family: 'Inter', sans-serif;
        -webkit-tap-highlight-color: transparent;
    }
    h1, h2, h3, h4, .font-poppins {
        font-family: 'Poppins', sans-serif;
    }
  </style>
  <style>
    body {
      min-height: max(884px, 100dvh);
    }
  </style>

  <!-- Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.js"></script>
  <script src="./public/js/supabaseClient.js"></script>
</head>

<body class="bg-background-light dark:bg-background-dark text-gray-900 dark:text-gray-100 min-h-screen">

  <div class="capa__overlay"></div>

  <!-- LOGIN SECTION -->
  <main class="auth max-w-md mx-auto h-screen flex flex-col justify-center px-6" id="explLogin">
    <div class="text-center mb-8">
      <h1 class="text-3xl font-bold text-primary mb-2">EduSphere</h1>
      <p class="text-gray-500">Área do Explicador</p>
    </div>
    <form id="fExplLogin" class="space-y-4" onsubmit="event.preventDefault();">
      <input type="email" name="email" placeholder="Email" required
        class="w-full rounded-xl border-gray-200 p-4 text-sm focus:border-primary focus:ring-primary" />
      <input type="password" name="password" placeholder="Password" required
        class="w-full rounded-xl border-gray-200 p-4 text-sm focus:border-primary focus:ring-primary" />
      <button class="w-full bg-primary text-white font-bold py-4 rounded-xl shadow-lg shadow-primary/30"
        type="submit">Entrar</button>
      <div id="msgExplLogin" class="text-center text-sm text-red-500 mt-2"></div>
    </form>
  </main>

  <!-- MAIN APP SHELL -->
  <!-- ID 'explPanel' preserved for JS toggle logic -->
  <div id="explPanel" style="display:none">
    <!-- ... content ... -->
  </div>

  <!-- Legacy Scripts (Logic) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script type="module" src="./public/js/explicador.js?v=force_reload_7"></script>

  <script>
    // Minimal glue code to handle nav state styling which was previously in CSS
    document.addEventListener('DOMContentLoaded', () => {
      const btns = document.querySelectorAll('.expl-nav-btn');
      btns.forEach(btn => {
        btn.addEventListener('click', () => {
          btns.forEach(b => {
            b.classList.remove('text-primary');
            b.classList.add('text-gray-400');
          });
          btn.classList.remove('text-gray-400');
          btn.classList.add('text-primary');
        });
      });
      // Set initial active
      if (btns[0]) {
        btns[0].click();
      }
    });
  </script>
</body>

</html>