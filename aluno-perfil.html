<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Perfil do Aluno</title>

    <!-- CSS base do projeto -->
    <link rel="stylesheet" href="../css/base.css" />
    <link rel="stylesheet" href="../css/explicador.css" />

    <!-- NOVO CSS do perfil -->
    <link rel="stylesheet" href="../css/aluno-perfil.css" />
</head>
<body>

<div class="perfil-wrapper">

    <!-- HEADER -->
    <div class="perfil-header">
        <button class="back-btn" onclick="window.history.back()">
            ‚Üê Voltar
        </button>
        <h2>Perfil do Aluno</h2>
        <p class="subtitle">Informa√ß√£o detalhada e hist√≥rico</p>
    </div>

    <!-- INFO CARD -->
    <section class="perfil-card perfil-card--main" id="aluno-info-card">
        <div class="perfil-left">
            <div class="avatar" id="alunoAvatar">MS</div>

            <div>
                <h3 id="alunoNome">Maria Silva</h3>
                <p class="ano" id="alunoAno">10¬∫ Ano</p>

                <div class="badge-row">
                    <span class="badge status active" id="alunoStatus">Ativo</span>
                    <span class="badge disciplina">Matem√°tica</span>
                    <span class="badge disciplina">F√≠sica</span>
                </div>

                <div class="contact-row">
                    <p><strong>Email:</strong> <span id="alunoEmail"></span></p>
                    <p><strong>Telem√≥vel:</strong> <span id="alunoTele"></span></p>
                    <p><strong>Inscrito desde:</strong> <span id="alunoDataInscricao"></span></p>
                </div>
            </div>
        </div>

        <div class="perfil-right">
            <div class="kpi">
                <div class="kpi-icon">üìò</div>
                <div class="kpi-value" id="kpiAulas">0/0</div>
                <div class="kpi-label">Aulas Conclu√≠das</div>
            </div>

            <div class="kpi">
                <div class="kpi-icon">üìà</div>
                <div class="kpi-value" id="kpiMedia">‚Äì</div>
                <div class="kpi-label">M√©dia Atual</div>
            </div>

            <button id="btnEditar" class="edit-btn">Editar Perfil</button>
        </div>
    </section>

    <!-- PR√ìXIMA AULA -->
    <section class="perfil-card perfil-card--next">
        <div class="proxima-aula">
        <span class="icon">üïí</span>
        <span><strong>Pr√≥xima Aula:</strong> <span id="proximaAulaTxt">Nenhuma aula agendada</span></span>
        </div>
    </section>

    <!-- TABS -->
     <section class="perfil-card perfil-card--tabs">
    <div class="tabs">
        <button class="tab active" onclick="showTab('explicacoes')">Explica√ß√µes</button>
        <button class="tab" onclick="showTab('pagamentos')">Pagamentos</button>
    </div>

    <!-- EXPLICA√á√ïES -->
    <div id="tab-explicacoes" class="tab-content active">
        <h3>Hist√≥rico de Explica√ß√µes</h3>
        <p class="descricao">Todas as aulas realizadas com este aluno</p>

        <table class="tabela">
            <thead>
                <tr>
                    <th>Data</th>
                    <th>Hor√°rio</th>
                    <th>Disciplina</th>
                    <th>T√≥pico</th>
                    <th>Estado</th>
                    <th>Notas</th>
                </tr>
            </thead>
            <tbody id="listaExplicacoes"></tbody>
        </table>
    </div>

    <!-- PAGAMENTOS -->
    <div id="tab-pagamentos" class="tab-content">
        <div class="pag-header">
            <h3>Hist√≥rico de Pagamentos</h3>
            <div class="total">‚Ç¨<span id="pagTotal">0</span><br><small>Total Recebido</small></div>
        </div>
    

        <table class="tabela">
            <thead>
                <tr>
                    <th>Data</th>
                    <th>Per√≠odo</th>
                    <th>Valor</th>
                    <th>M√©todo</th>
                    <th>Estado</th>
                </tr>
            </thead>
            <tbody id="listaPagamentos"></tbody>
        </table>
    </div>
    </section>

</div>

<script src="../public/js/supabaseClient.js"></script>
<script src="../public/js/pages/aluno-perfil.js"></script>
</body>
</html>